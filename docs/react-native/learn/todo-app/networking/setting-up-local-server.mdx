---
title: REST APIの準備
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

ここまでで、ToDoアプリの画面は一通り実装できました。ここからは、画面に表示するデータをREST APIから取得するように修正していきます。

## 開発時のネットワーク構成

ToDoアプリをAPIサーバと接続する場合、下の図にあるようなネットワーク構成で開発することになります。
これまでの構成との違いを理解してもらいたいので、[アプリの実行](../../getting-started/launch-created-app.mdx#アプリ実行の仕組み)を参照してここまでで作成した構成を確認してください。

<!-- textlint-disable ja-technical-writing/sentence-length,ja-technical-writing/max-comma,ja-spacing/ja-no-space-around-parentheses,jtf-style/3.3.かっこ類と隣接する文字の間のスペースの有無,ja-technical-writing/ja-no-mixed-period,ja-technical-writing/no-unmatched-pair -->

<Tabs
  defaultValue="rn-build"
  values={[
    {label: 'React Native', value: 'rn-build'},
    {label: 'Expo + React Native', value: 'expo-build'},
  ]}>

<!-- textlint-enable ja-technical-writing/sentence-length,ja-technical-writing/max-comma,ja-spacing/ja-no-space-around-parentheses,jtf-style/3.3.かっこ類と隣接する文字の間のスペースの有無,ja-technical-writing/ja-no-mixed-period,ja-technical-writing/no-unmatched-pair -->

<TabItem value="rn-build">

![Image](react-native-api-env.png)

</TabItem>
<TabItem value="expo-build">

![Image](expo-api-env.png)

</TabItem>
</Tabs>

これまでの構成との大きな違いはREST APIとの通信が発生する部分です。
これからの学習でクライアントからREST APIへRequestを送信し、Responseをクライアントが受け取り、結果を画面出力する等を学習していきます。

## APIサーバの起動

では、React Nativeを開発している端末にAPIサーバを起動します。APIサーバはDockerを利用して起動する方法と、Mavenを利用して起動する方法があります。いずれかお好みの方法で起動してください。
[バックエンド サンプルアプリ](https://github.com/ws-4020/mobile-app-hands-on-backend#readme)にそれぞれの起動と確認方法が記載されているので確認して実行してください。

## APIサーバへの接続確認

Expo Goやテスト用のデバイスからAPIサーバにアクセスしようとしても、ファイアウォールなどに制限されてアクセスできない場合があります。

そのため初めに、ToDoアプリをインストールして実行するデバイスやシミュレータなどから、APIサーバにアクセスできるかどうかを確認しておきます。

デバイスやシミュレータでブラウザを起動し、APIサーバのURLにアクセスできることを確認してください。

:::caution
アクセス前にAPIサーバを起動しておいてください。
:::

URLには確認時に使用する端末のIPアドレスが必要となります。それぞれの環境で以下のコマンドを実行してIPアドレスを確認してください。

<!-- textlint-disable ja-technical-writing/sentence-length,ja-technical-writing/max-comma,ja-spacing/ja-no-space-around-parentheses,jtf-style/3.3.かっこ類と隣接する文字の間のスペースの有無,ja-technical-writing/ja-no-mixed-period,ja-technical-writing/no-unmatched-pair -->

<Tabs
  groupId="operating-systems"
  defaultValue="win"
  values={[
    {label: 'macOS', value: 'mac'},
    {label: 'Windows', value: 'win'},
  ]
}>

<!-- textlint-enable ja-technical-writing/sentence-length,ja-technical-writing/max-comma,ja-spacing/ja-no-space-around-parentheses,jtf-style/3.3.かっこ類と隣接する文字の間のスペースの有無,ja-technical-writing/ja-no-mixed-period,ja-technical-writing/no-unmatched-pair -->

<TabItem value="mac">

```bash
ipconfig getifaddr en0
```

</TabItem>
<TabItem value="win">

```bash
ipconfig
```

</TabItem>
</Tabs>

このときアクセスするのに利用したIPアドレスは、後で設定ファイルに設定するので忘れないようにしてください。

これでAPIサーバの用意は完了です。次は、ToDoアプリで利用するREST APIのクライアントを作成します。
