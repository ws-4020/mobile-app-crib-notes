---
title: DeepLink
---

モバイルアプリの利用が増えたため、WebだけでなくモバイルアプリもURLでコンテンツを利用やデータ連携することを実現するための機能。

ユーザがコンテンツにアクセスする場合にアプリを立ち上げてURLやパラメータを入力するのではなく、適切なアプリをOSが選択して起動するアプリを候補煮出すため、ユーザはコンテンツを利用しやすくなる。

例：フォトライブラリで画像を選択して、メールアプリに共有する。

## 実現方法

リンクの情報をアプリケーションが受け取るための実現方式。

### App Links

対象はAndroid。

ドメインに紐付いたアプリを利用してアクセスする。
アプリがなければWebサイトにアクセスする。
 -> アプリのインストール促せない場合は、アプリで見るみたいなWebページになるのか

:::note
[Intent](https://developer.android.com/guide/components/intents-filters)の説明いるかな？
説明っていうより別のDeepLinkの方式として書いたほうがいいのか。
:::

IntentのデータにMIMEタイプを指定するとOSが適切アプリを絞り込めるらしいけどリンク作る方の話。


#### App Linksをアプリで実装する

TODO: 実装する人がやること、アプリの管理者に依頼することとか。

#### App Links向けのURLの作成

- ドメインをあわせる
- MIME typeをManifestにあわせる

### Universal Links

対象はiOS。

ドメインに紐付いたアプリを利用してアクセスする。
アプリがなければWebサイトにアクセスする。
 -> in-app browserなどで表示する。

ユーザアクティビティオブジェクトを受け取る。

アプリを起動して欲しい場合、ユニバーサルリンク自体はアプリに紐付いていないドメインに配置する。
同一ドメインの場合、ブラウジングしたいと判断してブラウザでコンテンツを参照させてしまう。

#### Universal Linksをアプリで実装する

TODO: 実装する人がやること、アプリの管理者に依頼することとか。

### Firebase Dynamic Links

iOS, Androidが対象。

アプリ用のドメインを持たず、page.linkのサブドメインでURLを作成できる。
インストールプロセスでURLが失われないため、インストールしてもユーザ操作が失われないので、アプリのインストールを促せる。

アプリがなければWebサイトにアクセスする。

:::note
ウェブ向けのリンク先コンテンツを用意していない場合は、この URL が有効なウェブリソースを指していなくてもかまいません。その場合は、この URL からサイトのトップページなどにリダイレクトするようにしてください。
:::

#### Firebase Dynamic Linksをアプリで実装する

TODO: 実装する人がやること、アプリの管理者に依頼することとか。

#### Firebase Dynamic LinksのURLを作成する

[Linksの作成パターン](https://firebase.google.com/docs/dynamic-links/create-links)

TODO: 実装する人がやること、アプリの管理者に依頼することとか。


### custom URL Scheme

HTTP(`https://`)ではなくアプリで指定したスキームを利用する。

アプリに指定するスキームはBundleIDなどのように一意になるように管理されていないため、競合してしまう。
スキームが競合するとURLに含めた情報を他のアプリに渡してしまう可能性がある。

例：`expo://`

#### custom URL Schemeの実装

TODO:

#### custom URL Schemeの作成方法

TODO:

