---
title: サードパーティライブラリの導入
---

React Nativeには、[Core Components and APIs](https://reactnative.dev/docs/components-and-apis)に記載されている通り、多くのUIコンポーネントやAPIが提供されています。
しかし、ナビゲーションやプッシュ通知、ローカル認証など、React Nativeだけではアプリを開発する上で不足する機能があります。

これらの機能は、自身で開発可能ですが、サードパーティライブラリ（以降ライブラリと記載）を利用することで開発工数を大きく削減できます。

## ライブラリの選定方針

このアプリでは、[Expo](https://docs.expo.dev/)の提供する機能を優先的に利用します。

ExpoはReact Nativeに不足している様々な機能を幅広く提供しています。
React NativeのGithubで公開されている[The React Native Ecosystem](https://github.com/facebook/react-native/blob/main/ECOSYSTEM.md)では、**Partners**として定義されており信頼性もあります。

また、ExpoはReactやReact Native、Expoが提供する機能など一部の依存パッケージについて、利用可能なバージョンを管理しています。これにより、開発者は依存パッケージの適切なバージョンを迷うことなくインストールできます。

これらの理由から、ライブラリの利用を検討する際は、まずExpoが提供する機能を確認します。

実現したい機能がExpoには存在しない場合、以下の観点を総合的に判断してライブラリを選定します。

| 観点             | 概要                                                                                                                                                                                                                                                |
|:---------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ライセンス          | 商用利用や配布が可能なライセンスかを確認します。また、MIT LicenseやApache-2.0など比較的自由度の高いライセンス形態で提供しているかを確認します。                                                                                                                                                                |
| 開発母体の信頼性       | 個人による開発か組織による開発かを確認します。組織による開発の場合は、組織の規模や実績（他にリリースしているアプリやライブラリはあるか）などを確認します。<br/><br/>また、React NativeのGithubで公開されている[The React Native Ecosystem](https://github.com/facebook/react-native/blob/main/ECOSYSTEM.md)に紹介されているかも信頼性を判断する上で大きな要素になります。 |
| 経験者の有無         | チーム内に経験者がいるかを確認します。経験者がいると、導入時のコストやライブラリを誤って利用してしまなどのリスクを軽減できます。                                                                                                                                                                                  |
| 最終リリース日        | 最終リリース日を確認します。最終リリース日があまりに古いと、React NativeやOSのバージョンアップへの追随や、脆弱性に対応できていない可能性があります。                                                                                                                                                                 |
| リリース頻度         | リリース頻度を確認します。リリース頻度があまりに少ないと、React NativeやOSのバージョンアップ、脆弱性への対応などが素早く提供されない可能性があります。                                                                                                                                                                |
| 人気度            | Githubのスター数などを確認します。                                                                                                                                                                                                                              |
| Issueの数        | GithubのIssueの数（Open、Close両方）を確認します。Issueが定期的にCloseされているか、ライブラリの規模や運用年数に対してIssueの数があまりに多すぎないかなどを確認します。                                                                                                                                             |
| ドキュメントの豊富さ     | ライブラリの使い方や、機能一覧、FAQなどがドキュメントとして提供されているかを確認します。                                                                                                                                                                                                    |
| 機能数            | 現時点で必要としている機能以外に、どんな機能があるかを確認します。機能数が多いと、今後のアプリ開発で必要な機能が増えた場合に、新たなライブラリを検討せずに対応できる可能性が高くなります。<br/><br/>また、ロードマップが公表されている場合は、今後提供される見込みである機能に関しても確認します。                                                                                            |
| 学習コスト          | ライブラリ導入時の学習コストの高さを確認します。学習コストが高いと、ライブラリを導入しても開発工数があまり削減されない場合もあります。<br/>また、誤った利用方法によりアプリが予期せぬ動作を引き起こす場合もあります。                                                                                                                                     |
| 依存ライブラリの数      | 依存ライブラリの数を確認します。依存ライブラリが多いほど、ライブラリの変更や削除、開発終了時の影響も増えます。                                                                                                                                                                                           |
| 自分たちでメンテナンス可能か | ライブラリのゼロデイ脆弱性を検知した場合や、ライブラリの開発が終了した場合などは、それらのライブラリのメンテナンスを自分たちで実施しなくてはいけないケースもあります。<br/><br/>そのため、ライブラリのソースコードなどを確認して、自分たちでメンテナンス可能かを判断します。                                                                                                       |
| サイズ            | ライブラリのサイズが大きいと、リリースするアプリのサイズも大きくなります。そのため、アプリには必要のない機能によってライブラリのサイズが大きくなりすぎていないかを確認します。                                                                                                                                                           |

## ライブラリの利用を検討することが多い機能

このアプリの開発や、チーム内のメンバーの経験に基づき、ライブラリの利用を検討することが多い機能を以下に記載します。

:::caution
ここに記載した機能が、ライブラリの検討に必要なすべての機能ではないことにご留意ください。
:::

| 機能           | 概要                                                                                                                                                                                                                                                                                                            |
|:-------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ネットワークアクセス   | HTTP通信などのネットワークを使用して外部接続する機能です。                                                                                                                                                                                                                                                                               |
| ロギング         | ログレベルや出力先を切り替えることができる機能です。出力先が外部サービスの場合は、そのサービスがSDKなどを提供している場合もあります。                                                                                                                                                                                                                                          |
| メッセージ管理      | アプリ内で表示するメッセージを一元管理したり、言語に応じたメッセージを取得する機能です。                                                                                                                                                                                                                                                                  |
| プッシュ通知（リモート） | [Apple Push Notification service（iOS）](https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server)や[Firebase Cloud Messaging（Android）](https://firebase.google.com/docs/cloud-messaging?hl=ja)などを経由したリモート通知機能です。                                                     |
| プッシュ通知（ローカル） | リモート通知のような外部サービスを経由せず、自端末内で通知を送受信するローカル通知機能です。                                                                                                                                                                                                                                                                |
| ローカル認証       | 顔認証や指紋認証などの生体認証機能です。                                                                                                                                                                                                                                                                                          |
| ナビゲーション      | 画面遷移など、画面の表示制御を実施する機能です。                                                                                                                                                                                                                                                                                      |
| スプラッシュスクリーン  | スプラッシュスクリーンの表示制御を実施する機能です。                                                                                                                                                                                                                                                                                    |
| アプリアップデート    | OTA（Over The Air）によるアプリ配信機能です。                                                                                                                                                                                                                                                                                |
| セキュアストレージ    | [Keychain（iOS）](https://developer.apple.com/documentation/security/keychain_services/)や[Keystore（Android）](https://developer.android.com/training/articles/keystore?hl=ja)などを利用したセキュアなデータが格納されているストレージにアクセスする機能です。                                                                                            |
| ローカルストレージ    | 平文のデータが格納されているストレージにアクセスする機能です。                                                                                                                                                                                                                                                                               |
| フォーム管理       | 入力項目の状態を管理する機能です。                                                                                                                                                                                                                                                                                             |
| バリデーション      | 入力値や外部から連携された値を検証する機能です。                                                                                                                                                                                                                                                                                      |
| 状態管理         | 複数のコンポーネント間で共有する状態や、非同期処理（HTTP API呼び出し時など）の実行状態などを管理する機能です。                                                                                                                                                                                                                                                   |
| WebView表示    | WebViewを使用してWebサイトを表示する機能です。                                                                                                                                                                                                                                                                                  |
| アプリ内ブラウザ表示   | [SFSafariViewController](https://developer.apple.com/documentation/safariservices/sfsafariviewcontroller)や[ChromeCustomTabs](https://developer.chrome.com/docs/android/custom-tabs/)を使用してアプリ内にWebサイトを表示する機能です。                                                                                                |
| 地図表示         | [MapKit（iOS）](https://developer.apple.com/documentation/mapkit/)や[Google Maps](https://developers.google.com/maps?hl=ja)などを使用して地図を表示する機能です。                                                                                                                                                                   |
| カメラ起動        | OSのカメラを起動する機能です。                                                                                                                                                                                                                                                                                              |
| QRコード生成・表示   | QRコードを生成し、表示する機能です。                                                                                                                                                                                                                                                                                           |
| バーコード生成・表示   | バーコードを生成し、表示する機能です。                                                                                                                                                                                                                                                                                           |
| SVG画像表示      | SVG画像を表示する機能です。                                                                                                                                                                                                                                                                                               |
| アニメーション      | アニメーション機能です。                                                                                                                                                                                                                                                                                                  |
| UIコンポーネント    | UIコンポーネントを提供する機能です。Appleの[Human Interface Guidelines](https://developers.apple.com/design/human-interface-guidelines/components/all-components)やGoogleが提供する[Material Design](https://m3.material.io/components)では多くのコンポーネントが定義がされています。<br/><br/>また、デザインシステムで定義された値をテーマとして設定し、各UIコンポーネントをテーマに従って構築する機能などもあります。 |
| 自動テスト        | 単体テストやE2Eテストなどを自動で実行する機能です。                                                                                                                                                                                                                                                                                   |
