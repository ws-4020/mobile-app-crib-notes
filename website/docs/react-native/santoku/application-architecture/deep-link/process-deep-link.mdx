---
title: ディープリンクの処理
---

ディープリンクをアプリケーションが受信するタイミングは2つあります。ユーザがアプリを起動していない状態でディープリンクから起動した場合とアプリが起動中の場合です。

## アプリケーションの状態とURLの取得

アプリがURLを取得するための[API](https://rnfirebase.io/dynamic-links/usage#listening-for-dynamic-links)は[ディープリンクで起動](#ディープリンクで起動)した場合と[ディープリンクを受信](#ディープリンクを受信)した場合があります。

どちらの場合でもURLからリンクを取得し、画面遷移の判定をした上でリンクのパラメータを処理します。

リンクのパラメータは[URLの構成](./create-deep-link.mdx#URLの構成)にあるとおり、スクリーンとパラメータを受け取れます。

### ディープリンクで起動

ディープリンクでアプリがアクティブになった場合は[getInitialLink](https://rnfirebase.io/reference/dynamic-links#getInitialLink)でリンクを取得します。

### ディープリンクを受信

アプリがアクティブなときにディープリンクを開いた場合は[onLink](https://rnfirebase.io/reference/dynamic-links#onLink)でリンクを取得します。

### リンクパラメータの保持

リンクパラメータはRoutesパラメータとして画面間で持ち回ります。
リンクパラメータを処理する画面の前に必要なステップ（認証など）がある場合、処理する画面まで持ち回します。

たとえばアカウント登録後にチームへ参加する仕様のアプリであれば、チーム参加用のリンクを受け取ったらアカウント登録中は各画面に引き継ぎます。

- アカウント登録まで： Routesパラメータで受け渡し
- Teamタブ： チーム詳細のRoutesパラメータに設定
- その他のタブ： 全画面Routesパラメータにリンクパラメータは不要
