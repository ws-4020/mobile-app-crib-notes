---
title: ディープリンク
sidebar_label: Overview
---

ディープリンクを利用するとURLからモバイルアプリケーションに情報を渡す事ができます。
情報を共有する仕組みをアプリケーションで作るのではなく、ディープリンクを共有することで情報共有を可能にします。

ここではアプリケーションでFirebase Dynamic LinksをReact Nativeで利用する方式を記載します。

## 全体の構成

TODO:ここにモバイル（デバイスとアプリのインストール状況、設定ファイルにドメイン）とWebサイト（ドメイン）を書いた図を記載する。

 - 関連したドメイン
 - fallback
 - 設定ファイル

### 利用するライブラリ

React NativeでFirebase Dynamic Linksを利用するために[React Native Firebase Dynamic Links](https://rnfirebase.io/dynamic-links/usage)を利用します。

### テスト

ディープリンクを利用した機能のテストをする場合、本番環境とは異なるFirebaseプロジェクトのアプリを利用する。
ビルドバリアントの説明に沿った形式でFirebaseアプリとモバイルアプリを関連付ける。

### ディープリンクの作成

アプリ内では[React Native Firebase Dynamic LinksのAPI](https://rnfirebase.io/dynamic-links/usage#create-a-link)を利用してディープリンクを作成します。

URLは共有しやすいように[短いDynamic Link](https://firebase.google.com/docs/dynamic-links/android/create)を利用します。

### URLの構成

ディープリンクはURLのドメインとアプリケーションに関連付けたドメインを使用する必要があります。
本アプリケーションではFireabseの`page.link`ドメインを利用するためURLの構成は以下のとおりです。

|パラメータ|値|備考|
|:-------|:-|:--|
|domainUriPrefix|アプリケーションに関連付けたドメイン|`https://xxxx.page.link/`|
|ios.fallback|iOSデバイスでアプリをインストールしていない場合のURL|AppStoreやTestFlight|
|ios.bundleId|アプリケーションのbundleId|`jp.fintan.mobile.SantokuApp`|
|android.fallback|Androidデバイスでアプリをインストールしていない場合のURL|GooglePlayStore|
|android.package_name|Androidのパッケージ名|`jp.fintan.mobile.SantokuApp`|
