---
title: ディープリンク
sidebar_label: Overview
---

ディープリンクを利用するとURLからモバイルアプリケーションに情報を渡す事ができます。
アプリケーションで情報を共有する仕組みを作るのではなく、ディープリンクで共有することで情報共有を可能にします。

ここではアプリケーションでFirebase Dynamic LinksをReact Nativeで利用する方式を記載します。

## 全体の構成

ディープリンク機能を利用するために[Fireabse Dynamic Links](https://firebase.google.com/docs/dynamic-links)を導入します。

TODO:ここにモバイル（デバイスとアプリのインストール状況、設定ファイルにドメイン）とWebサイト（ドメイン）を書いた図を記載する。
 - 関連したドメイン
 - fallback
 - 設定ファイル

### URLの構成

ディープリンクはURLのドメインとアプリケーションに関連付けたドメインを使用する必要があります。
本アプリケーションではFireabseの`page.link`ドメインを利用するためURLの構成は以下の通りです。

|パラメータ|値|備考|
|:-------|:-|:--|
|domainUriPrefix|アプリケーションに関連付けたドメイン||
|ios.fallback|iOSデバイスでアプリをインストールしていない場合のURL|AppStoreやTestFlight|
|ios.bundleId|アプリケーションのbundleId|`jp.fintan.mobile.SantokuApp`|
|android.fallback|Androidデバイスでアプリをインストールしていない場合のURL|GooglePlayStore|
|android.package_name|Androidのパッケージ名|`jp.fintan.mobile.SantokuApp`|

### 利用するライブラリ

React Native でFirebase Dynamic Linksを利用するために[React Native Firebase Dynamic Links](https://rnfirebase.io/dynamic-links/usage)を利用します。

### テスト

ディープリンクを利用した機能のテストをする場合、本番環境とは異なるFirebaseプロジェクトのアプリを利用する。
ビルドバリアントの説明に沿った形式になるようにFirebaseアプリとモバイルアプリを関連付ける。

### ディープリンクの作成

アプリ内では[React Native Firebase Dynamic LinksのAPI](https://rnfirebase.io/dynamic-links/usage#create-a-link)を利用してディープリンクを作成します。

URLは共有しやすいように短縮URLを利用します。


