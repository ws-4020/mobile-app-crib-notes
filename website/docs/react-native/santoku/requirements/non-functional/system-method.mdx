---
title: システム方式に関する事項
---

システム方式に関する事項は政府公開の[デジタル・ガバメント推進標準ガイドライン][guideline]に照らし合わせると以下となります。
>クラウドサービス、ハードウェア、ソフトウェア、ネットワーク等の情報システムの構成に関する全体の方針等の案について記載する。
[guideline]:<https://cio.go.jp/sites/default/files/uploads/documents/hyoujun_guideline_20210330.pdf>

本項では、サンプルアプリケーションのシステム方式に関する事項として、以下の事項を定義します。

## 要件内容

- 選定要件
- Rect Native（開発フレームワーク）
    - 選定基準
    - 選定
    - サンプルアプリでの選定結果
- Firebaseサービス（クラウドサービス）
    - 選定基準
    - 選定
    - サンプルアプリでの選定結果

- アプリ方式について

## Rect Native（開発フレームワーク）

### 選定要件

このアプリを開発する上で以下の要件があり、これらの要件を満たしたアプリを開発することが求められます。

- モバイルアプリケーション開発経験の無いエンジニアがプロジェクトに参画する想定であること
- 実際のアプリ開発案件における必要工数削減を目指すアプリであること
- このアプリはサンプルの位置付けであるため、必要となる費用が少ないものを選ぶこと

### 選定

#### アプリ方式について

モバイルアプリケーションのシステムアーキテクチャとしてアプリ方式が2つあり、それぞれにメリット・デメリットがあります。
ここでは2つのアプリ方式について記述します。

##### ネイティブアプリ

ここでの「ネイティブアプリ」は、AndroidであればKotlin/Java、iOSであればObjectiveーC/Swiftで開発というようにプラットフォーム専用に開発したアプリを指します。
この方式を採用した場合のメリット・デメリットは以下になります。

- メリット
    - 専門エンジニアの在籍状況によっては後述する「クロスプラットフォームアプリ」よりも生産性が高いとされる
- デメリット
    - Android/iOS両方にアプリをリリースする場合プラットフォームそれぞれで開発が必要になる
    - 上記理由によりAndroid/iOS両方に対応したアプリを開発する場合、単純計算で2倍の開発工数がかかる想定となる

##### クロスプラットフォームアプリ

特定の開発フレームワークを用いて開発し、1つのソースコードでAndroid/iOS共に動作するアプリのことをここでは「クロスプラットフォームアプリ」と称します。
この方式を採用した場合のメリット・デメリットは以下になります。

- メリット
    - Web技術をベースにしたフレームワークもあるため専門エンジニアが少なくても生産性が確保できる
    - ソースコードはフレームワークによって一本化されるためプラットフォームそれぞれで開発するより必要工数の削減が期待できる
- デメリット
    - OSバージョンアップによってフレームワーク側で問題が発生した場合、フレームワークの対応を待っての修正となるため問題の即時対応できない場合がある
    - ネイティブ機能に関連した開発とリリースビルドはそれぞれの環境で行う必要があるため、ソースコードの完全な一本化はできない

#### 選定基準

開発フレームワークを採用する場合の選定基準は[デジタル・ガバメント推進標準ガイドライン][guideline]に照らし合わせ以下とします。

- 当該フレームワークの保守および技術サポートの調達が困難でないこと
- 当該フレームワークのライセンス条項によって採用後に訴訟リスクなどが生じないこと

### サンプルアプリでの選定結果

このアプリではアプリ方式を「クロスプラットフォームアプリ」とし、開発フレームワークとして「Rect Native」を採用します。
これは先に記述した選定要件と選定基準を以下のように満たしています。

- JavaScriptライブラリによるモバイルアプリケーション開発が可能であり、SI事業者に多く在籍している既存Webエンジニアへの学習コストが低い
- 開発元であるFacebook内部でも使用されておりGitHub上でのスター数も上位に位置しているため継続的な保守、技術サポートが望める
- OSSとして広く公開された開発フレームワークであり、かつMITライセンスが適用されており採用後の法的トラブルに対する必要コストが低い

## Firebaseサービス（クラウドサービス）

### 選定要件

このアプリを運用する上で以下の課題があります。

- モバイルアプリはユーザ端末内で動作するため開発者や保守担当者が直接問題のログを確認できない
- 「問題が起きた」という結果報告だけでは原因の特定と解決が難しく、再現方法も不明なことがあるため詳細な情報を取得する手段が必要

### 選定

#### 実現方法について

この課題を解決する手段としては次の2つがあります。

##### 独自の方式を考案し構築する

独自の方式を作成し、構築します。この方法を採用した場合のメリット・デメリットは以下になります。

- メリット
    - 構成・仕様を全て自分達で決められるため自由度が非常に高く、ランニングコストを抑えた構築も可能   
- デメリット
    - 開発導入工数は既存サービス・製品を使用するより増える
    - 方式について知見のあるエンジニアが確保できない場合、開発そのものに失敗する可能性がある

##### 既存のクラウドサービス・ソフトウェア製品を利用する

既に世の中に公開されているサービスを導入します。この方法を採用した場合のメリット・デメリットは以下になります。

- メリット
    - 導入のための調査および実際に導入する工数とサービス利用料金のみで実現できる
    - 利用実績や導入企業の情報が公開されており、サービス利用料金のようなランニングコストについても事前計算が可能
- デメリット
    - 一部の要件を満たなさいサービスしかリリースされていないこともある
    - その場合サービス提供元にカスタマイズ交渉をするか複数のサービスを組み合わせて要件を満たさなければならない
    - ランニングコストの事前計算は可能だが料金体系について理解していないと想定以上の請求となる

#### 選定基準

クラウドサービス・ソフトウェア製品を導入する場合の選定基準は[デジタル・ガバメント推進標準ガイドライン][guideline]に照らし合わせ以下とします。

- アプリケーションプログラムの動作、性能等に支障を来たさない範囲において、可能な限りOSS製品を活用する
- ただし、それらのOSS製品のサポートが確実に継続されていることを確認すること

### サンプルアプリでの選定結果

このアプリではクラウドサービスである[Firebase Crashlytics][crash]と[Google Analytics for Firebase][analytics]を採用します。
これは先に記述した選定要件と選定基準を以下のように満たしています。

- サンプルアプリとしてのログ集積と利用状況のモニタリングであるためこの2つで要件を満たせる
- Googleプロダクトの1つであり世界的に利用されており、共に[無料で公開][cost]されているサービスである
- FirebaseがGoogle傘下に入ってから7年が経過しており現在もGoogle傘下でサポートを継続している

[crash]:https://firebase.google.com/products/crashlytics?hl=ja
[analytics]:https://firebase.google.com/products/analytics?hl=ja
[cost]:https://cloud-ace.jp/column/detail175/
