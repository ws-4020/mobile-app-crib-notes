---
title: テスト方針
---

単体テストのテスト方針について、テスト実施内容とエビデンス取得方針を記載する。

## テスト実施内容

| NO | テスト方法 | テスト実施内容 |
| --- | :--- | :--- |
| 1 | 打鍵テスト／自動テスト | 画面または、機能単位での動作を検証する |
| 2 | 打鍵テスト | シミュレータ／エミュレータに実施する |
| 3 | 打鍵テスト | API連携部分箇所は、モックサーバと接続して検証を行う |
| 4 | 打鍵テスト | UI箇所は、テスト観点のチェック観点を使用して検証を行う |

## エビデンス取得方法

テスト実施者が以下のエビデンスを取得する。

### 打鍵テスト

| NO | エビデンス | 説明 |
| --- | :--- | :--- |
| 1 | テスト観点のチェック結果（Excel） | テスト観点を用いて、対象の観点の結果を記載 |
| 2 | ログファイル | ローカルに出力されているコンソールログ |

### 自動テスト

テスト実施者が以下のエビデンスを取得する。

`Jest`を実行して、生成されたカバレッジレポートを取得する。
テスト結果、カバレッジが100%にならない場合、原因を確認して理由をチェック結果（Excel）へ記載する。

## 検証方針

### 打鍵テスト

確認が必要なテスト観点の選択に誤りがないことを確認して、チェック結果に漏れがないことを確認する。

### 自動テスト

`Jest`を実行して、エラー（想定外）にならないこととカバレッジが100%になっていることを確認する。
また、カバレッジが100%にならない箇所があった場合、原因を確認して妥当なものであれば、その理由をチェック結果（Excel）へ記載する。

## 事前準備

テスト実施前に以下のことを準備します。

## テストデータ

テスト実施に必要なデータパターンを洗い出し、手作成を行う。
自動テストは、対象となる機能の処理仕様を網羅できるようなテストコードを作成する。

## モックサーバ

単体テストを実施する開発PCのローカル環境でモックサーバを起動して、単体テストを実施します。
今回は、[mockoon][mockoon]を利用して、モックサーバを構築して、起動します。
Jsonファイルを作成して、モックサーバの環境設定やそれぞれのテストで必要となるレスポンス値を設定します。

[mockoon]:https://mockoon.com/

## シミュレータ、エミュレータ使用方法

### iOSシミュレータ

Xcodeを起動して、シミュレータのダウンロードと起動確認をします。

- シミュレータのダウンロード
メニューバーの`Xcode > Preference`を開いて、`Components`タブを選択して、表示されているシミュレータの中から必要なものを選択して、インストールする。

- シミュレータの起動
メニューバーの`Xcode > Open Developer Tool > Simulator`を選択して、シミュレータを起動する。

### Androidエミュレータ

Android Studioを起動して、エミュレータの作成と起動確認をします。

- エミュレータの作成
Android Studio 下部の`構成 > AVDマネージャー > 仮想デバイスの作成`を選択して、エミュレータを作成する。

- エミュレータの起動
Android Studio 下部の`構成 > AVDマネージャー > 起動したいエミュレータのアクション：`▶`を押下して起動する。

## スマホ実機使用方法

### iOS

- MacとiPhoneをUSBケーブルで接続する
- Mac側でXcodeを起動して、左上のDevice選択欄から接続したiPhoneを選択する
- iPhoneで`設定 > 一般 > プロファイルとデバイス管理（または、VPNとデバイス管理）`の中で、`デベロッパApp`欄の`XXXX`[^1]を選択して、`XXXXを信頼`[^1]をタップして、`信頼`をタップ
- アプリ一覧のビルドしたアプリのアイコンをタップして動作を確認する

:::note
使用するiPhoneを初めてMacにUSB接続する場合、iPhone側へ`このコンピュータを信頼しますか？`のメッセージが表示されます。
メッセージに対して、`信頼`するを選択してください。その後、パスコード入力を求められるのでそちらも入力します。
:::

[^1]: `XXXX`はApple IDです

### Android

- PCとAndroid端末をUSBケーブルで接続する
- Android端末側で`このデバイスをUSBで充電中`の通知をタップして、`USBの使用`の下で`ファイル転送`を選択する
- Android端末の設定画面を開いて、一番下の方に`端末情報`というメニューがあるのでタップする
- ビルド番号を7回タップする（`これでデベロッパーになりました！`と表示されればOK）
- 設定画面に戻り、`開発者向けオプション`というメニューが表れているのでそれをタップして、`ON`を有効にしてさらに`USBデバッグ`を有効にする
- PC側でAndroid Studioを起動して、実行ボタンを押下して、Android端末側で動作を確認する

## 網羅の方針

- 全画面（機能）の単体テストケースの実施が全て完了していること
- 自動テストでのC0/C1カバレッジが100%となっていること
