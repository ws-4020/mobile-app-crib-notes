---
title: 端末毎の固有機能とログ出力を確認する観点
---

ここでは単体テストの端末毎の固有機能とログ出力を確認するテスト観点をまとめています。
それぞれのテスト観点を検証する際のテスト方法の種類は、以下のとおりです。

- （A）Jestを利用して、作成したテストコードで自動テストを実行して確認
- （B）シミュレータ（1機種×OS）
- （C）シミュレータ（アスペクト比が違う複数パターン）
- （D）実機（テスト対象端末の中から最も性能が低いもの×OS）
- （E）実機（テスト対象端末分）

## テスト項目：OS

### プロセス

| NO | 詳細 | 観点 | 補足 | テスト方法 |
| --- | --- | --- | --- | --- |
| 1 | - | 通信途中にプロセスがkillされた場合の挙動が想定通りであること | 例：ファイルダウンロード中にプロセスをkill | B |
| 2 | - | 処理途中にアプリが中断された場合の挙動が想定通りであること | 例：サーバとの通信中に電話着信 | B |

### パーミッション

| NO | 詳細 | 観点 | 補足 | テスト方法 |
| --- | --- | --- | --- | --- |
| 1 | - | アプリが使用しない機能に対してパーミッションが許可・要求されていないこと | 例：ファイル書込みをしないのに、書込み権限がついている | B |

## テスト項目：端末

| NO | 詳細 | 観点 | 補足 | テスト方法 |
| --- | --- | --- | --- | --- |
| 1 | 画面の縦横切替（レイアウト） | 縦横でレイアウトを変更する場合に、向きを変更しても画面崩れが起きないこと（画面を横向きにしても縦横を切り替えない前提の場合は、縦表示を維持できていること） | - | C |
| 2 | アプリの設定 | 端末の設定から、アプリの「強制停止」「データを消去」「キャッシュ削除」等を行った場合のアプリの挙動が想定通りであること | - | B |
| 3 | Backキー | Backキー押下後の挙動が想定通りであること | Android端末の固有操作に対応した動作を確認すべき観点（※Android端末のみの操作） | E |

## テスト項目：運用

| NO | 詳細 | 観点 | 補足 | テスト方法 |
| --- | --- | --- | --- | --- |
| 1 | アプリ再インストール | アプリの再インストールをした際の挙動が想定通りであること | KeyChainなどに残存したデータが予想外の挙動を招かないか確認するため | B |
| 2 | バージョンアップ | 新規インストール、アップデート、バージョンをまたぐアップデート（ex:ver1⇒ver3）が想定通り実施できること | - | B |

## テスト項目：キャッシュ

| NO | 詳細 | 観点 | 補足 | テスト方法 |
| --- | --- | --- | --- | --- |
| 1 | 削除 | 機密情報がキャッシュに残っていないこと | - | B |

## テスト項目：KeyChain,SharedPreferences

| NO | 詳細 | 観点 | 補足 | テスト方法 |
| --- | --- | --- | --- | --- |
| 1 | 検索 | 検索対象のキーがKeyChain,SharedPreferencesに存在する場合、期待する値が取得できること | - | A(Mock)、B |
| 2 | 登録 | KeyChain,SharedPreferencesに期待するキー、値が登録されること | - | A(Mock)、B |
| 3 | 削除 | 検索対象のキーがKeyChain,SharedPreferencesに存在する場合、期待した値が削除されること | - | A(Mock)、B |

## テスト項目：ログ出力

| NO | 詳細 | 観点 | 補足 | テスト方法 |
| --- | --- | --- | --- | --- |
| 1 | 出力内容 | 出力された正常時のログの内容が［メッセージ設計書の記載通り］であること | - | A |
| 2 | 出力内容 | 出力された異常時のログ（エラーログ）の内容が［メッセージ設計書の記載通り］であること | - | A |
