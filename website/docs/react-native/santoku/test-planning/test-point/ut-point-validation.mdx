---
title: バリデーションに関する観点
---

ここでは入力項目に対する単項目・相関バリデーションに関する単体テスト観点をまとめています。
それぞれのテスト観点を検証する際のテスト環境の種類は、以下のとおりです。

- (A) Jestを利用して、作成したテストコードで自動テストを実行して確認
- (B) シミュレータ（OS毎に1機種）
- (C) シミュレータ（OS毎に画面アスペクト比が異なる複数パターン）
- (D) 実機（OS毎に1機種）

## 単項目バリデーション

### 全般

| NO | 詳細 | 観点 | 補足 | テスト環境 |
| --- | --- | --- | --- | --- |
| 1 | 全般 | 単項目のバリデーションエラーが発生した場合、バリデーションメッセージが対象の項目の傍に表示されること | - | B |
| 2 | 全般 | 複数件の単項目のバリデーションエラーが発生した場合、全てのバリデーションメッセージが対象の項目の傍に表示されること | - | B |
| 3 | 必須項目 | 必須項目が未入力の場合、バリデーションメッセージが表示されること | - | A |
| 4 | 任意項目 | 任意項目が未入力の場合、バリデーションメッセージが表示されないこと | - | A |

### テキスト入力

| NO | 詳細 | 観点 | 補足 | テスト環境 |
| --- | --- | --- | --- | --- |
| 1 | 最大入力長 | 最大入力長の文字列を入力してもバリデーションエラーにならないこと | - | A |
| 2 | 最大入力長 | サロゲートペア文字を許容する設計の場合、サロゲートペア文字を含んだ最大入力長の文字列を入力してもバリデーションエラーにならないこと | - | A |
| 3 | 最小入力長 | 最小入力長が定められている場合、最小入力長の文字列を入力してもバリデーションエラーにならないこと | - | A |
| 4 | 最小入力長 | 最小入力長が定められている場合、最小入力長に満たない文字列が入力された場合はバリデーションエラーとなること | - | A |
| 5 | 使用可能文字 | サロゲートペア文字を許容する設計の場合、サロゲートペア文字を含んだ値が入力された結果がバリデーションエラーとならないこと | 絵文字などを入力する | A |
| 6 | 入力文字数 | 現在の入力文字数を表示する場合、サロゲートペア文字や異体字を含む文字列を入力しても正しい入力文字数が表示されること | - | A |
| 7 | 書式 | 一定の書式に沿った文字列のみを許容する設計の場合、書式に合わない文字列が入力された場合にバリデーションエラーとなること | 例： メールアドレス | A |

### 数値入力

| NO | 詳細 | 観点 | 補足 | テスト環境 |
| --- | --- | --- | --- | --- |
| 1 | 形式 | 数値以外の値を入力できないか、もしくは入力してもバリデーションエラーとなること | - | A |
| 2 | 形式 | 整数のみを許容している場合、整数以外の値を入力できないか、もしくは入力してもバリデーションエラーとなること | - | A |
| 3 | 少数 | 小数点以下の最大桁数が定められている場合、それ以上の桁数の少数が入力できないか、もしくは入力してもバリデーションエラーとなること | - | A |
| 4 | 最大値 | 最大値の数値を入力してもバリデーションエラーとならないこと | - | A |
| 5 | 最大値 | 最大値より大きい数値を入力できないか、もしくは入力してもバリデーションエラーとなること | - | A |
| 6 | 最小値 | 最小値の数値を入力してもバリデーションエラーとならないこと | - | A |
| 7 | 最小値 | 最小値より小さい数値を入力できないか、もしくは入力してもバリデーションエラーとなること | - | A |

### 日付入力

| NO | 詳細 | 観点 | 補足 | テスト環境 |
| --- | --- | --- | --- | --- |
| 1 | カレンダー入力 | カレンダーからの日付入力が可能な場合、カレンダー上では入力として許容する期間の日付しか選択できないこと | 例： 予約の場合は過去日は選択できないなど | B |
| 2 | 文字列入力 | 日付入力項目への直接文字入力が可能な場合、有効な日付形式の値が入力された場合にバリデーションエラーとならないこと | - | A |
| 3 | 文字列入力 | 日付入力項目への直接文字入力が可能な場合、無効な日付形式の値が入力された場合にバリデーションエラーとなること | - | A |
| 4 | 文字列入力 | 日付入力項目への直接文字入力が可能な場合、存在しない日付の値が入力された場合にバリデーションエラーとなること | - | A |
| 5 | 文字列入力 | 日付入力項目への直接文字入力が可能な場合、入力として許容する期間外の日付が入力された場合にバリデーションエラーとなること | - | A |
| 6 | 文字列入力 | 日付入力項目への直接文字入力が可能な場合、入力として許容する条件（例：曜日）などを満たしていない場合にバリデーションエラーとなること | - | A |

### ファイルアップロード

| NO | 詳細 | 観点 | 補足 | テスト環境 |
| --- | --- | --- | --- | --- |
| 1 | サイズ | 許容する最大ファイルサイズを超えていないファイルのアップロードが受け付けられること | - | B |
| 2 | サイズ | 許容する最大ファイルサイズを超えたファイルのアップロード時にバリデーションエラーとなること | - | B |
| 3 | ファイル形式 | 許容するファイル形式が定められている場合、許容している各形式のファイルをアップロードが受け付けられること | - | B |
| 4 | ファイル形式 | 許容するファイル形式が定められている場合、許容しない形式のファイルのアップロード時にバリデーションエラーとなること | - | B |
| 5 | 画像サイズ | 許容する最大・最小画像サイズが定められている場合、許容するサイズの画像ファイルのアップロードが受け付けられること | - | B |
| 6 | 画像サイズ | 許容する最大・最小画像サイズが定められている場合、許容しないサイズの画像ファイルのアップロード時にバリデーションエラーとなること | - | B |

## 相関バリデーション

| NO | 詳細 | 観点 | 補足 | テスト環境 |
| --- | --- | --- | --- | --- |
| 1 | 全般 | 複数の相関バリデーションエラーが発生した場合、全てのバリデーションエラーメッセージが表示されること | - | B |
| 2 | 条件付き必須 | 特定の条件により必須・任意が変わる項目について、該当項目が必須となっている状態で値が未入力の場合、バリデーションエラーとなること | - | A |
| 3 | 条件付き必須 | 特定の条件により必須・任意が変わる項目について、該当項目が任意となっている状態で値が未入力の場合、バリデーションエラーとならないこと | - | A |
| 4 | 組み合わせ条件 | 相関バリデーション対象項目について、有効な値の組み合わせが各項目に入力された場合、バリデーションエラーとならないこと | - | A |
| 5 | 組み合わせ条件 | 相関バリデーション対象項目について、無効な値の組み合わせが各項目に入力された場合、バリデーションエラーとなること | - | A |
